#!/bin/bash

PATH="$PATH:$HOME/bin"

# daemonize command and ingore all output
function run {
	command=$1
	shift
	# get the arguments
	args=$@
	
    printf "Checking: %-20s" "$command"
	if ! pgrep -f -d ", " $command; then
		echo "STARTING"
		nohup $command $args >> ~/.awesome_apps  2>&1 &
	fi
}

####### programs to run ########

cd /tmp

echo "### Autostarting programs:"

nitrogen --restore

run urxvtd -q -f -o
run gvim
run thunar --daemon
run xbindkeys
run nm-applet
#run hipchat
run icedove
run remmina > /dev/null 2>&1
run mpdstream.sh
run blueman-applet
run mate-power-manager
run virt-manager

# start the usual terminal windows
if ! pgrep ncmpcpp &>/dev/null; then
	# Start mpd client
	urxvtc -name ncmpcpp -e ncmpcpp &
fi
